# 🛠️ Environment Setup

# Install WSL (if not already installed)
wsl --install

# Navigate to D drive where your Airflow folder is
D:

# Change directory to Airflow project
cd path\to\your\airflow-project-folder

# Start Docker Desktop from Windows (manually or from Start Menu)

# Launch Airflow using Docker Compose
docker-compose up -d

# 📂 Access Airflow Container

# Enter running Airflow webserver container
docker exec -it docker-airflow_webserver_1 /bin/bash

# Inside the container, navigate to DAGs folder
cd /usr/local/airflow/dags

# To list contents (verify scripts exist)
ls

# Run extract script manually (optional test)
python3 extract.py

# Run transform script manually (optional test)
python3 transform.py

# Run load script manually (optional test)
python3 load.py

# 🔁 Restart Airflow / Docker

# Restart containers
docker-compose restart

# Or stop and start Airflow again
docker-compose down
docker-compose up -d

# 📦 Python Package Management (inside Airflow container)
# Upgrade pip
pip install --upgrade pip

# Install required libraries inside the container
pip install azure-storage-blob
pip install pandas
pip install sqlalchemy

# 📅 Airflow CLI (inside container)
# Trigger a DAG run
airflow dags trigger weather_etl_pipeline

# List available DAGs
airflow dags list

# Check DAG status
airflow dags state weather_etl_pipeline <execution_date>

# View logs (optional)
airflow tasks logs transform_weather_data <execution_date>

# 💡 Other Useful Commands

# Check running Docker containers
docker ps

# View container logs
docker logs docker-airflow_webserver_1

# Exit container
exit
